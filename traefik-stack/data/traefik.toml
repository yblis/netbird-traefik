# Supprimez la ligne defaultEntryPoints qui est obsol√®te dans Traefik v2+
# defaultEntryPoints = ["http", "https", "ws", "wss"]

[entryPoints]
  [entryPoints.http]
    address = ":80"
  [entryPoints.https]
    address = ":443"

[api]
  dashboard = true

[providers.docker]
  endpoint = "unix:///var/run/docker.sock"

[providers.file]
  filename = "/etc/traefik/services.toml"

[certificatesResolvers.webssl.acme]
  email = "admin@domain.com"
  storage = "acme.json"
  caServer = "https://acme-v02.api.letsencrypt.org/directory"
  [certificatesResolvers.webssl.acme.httpChallenge]
    entryPoint = "http"
    
[http.middlewares]
  [http.middlewares.redirection.redirectScheme]
    scheme = "https"
    permanent = true
    sslRedirect = true
    
# Autorise les backend TLS
[serversTransport]
  insecureSkipVerify = true
